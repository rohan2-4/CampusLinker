{% extends "base (1).html" %}

{% block title %}Result Management - Campus Linker{% endblock %}

{% block content %}
<div class="result-section">
    <div class="container">
        <div class="page-header">
            <h1>Result Management</h1>
            <p>View and manage student results</p>
        </div>
        
        <!-- Result Search Form -->
        <div class="search-form">
            <form method="GET" class="result-search">
                <div class="form-row">
                    <div class="form-group">
                        <label for="student_id">Student ID</label>
                        <input type="number" id="student_id" name="student_id">
                    </div>
                    <div class="form-group">
                        <label for="exam_id">Exam ID</label>
                        <input type="number" id="exam_id" name="exam_id">
                    </div>
                    <div class="form-group">
                        <label for="course">Course</label>
                        <select id="course" name="course">
                            <option value="">Select Course</option>
                            <option value="BBA">BBA</option>
                            <option value="B.Com">B.Com</option>
                            <option value="B.Sc">B.Sc</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Display Result</button>
                    <button type="button" class="btn btn-secondary">Cancel</button>
                    <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Dashboard</a>
                </div>
            </form>
        </div>
        
        <!-- Results Table -->
        {% if results %}
        <div class="results-table">
            <h2>Student Results</h2>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Student ID</th>
                        <th>Student Name</th>
                        <th>Course</th>
                        <th>Subject</th>
                        <th>Obtain Marks</th>
                        <th>Total Marks</th>
                        <th>Grade</th>
                        <th>CGPA</th>
                        <th>Result</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for result in results %}
                    <tr>
                        <td>{{ result.student_id }}</td>
                        <td>{{ result.student_name }}</td>
                        <td>{{ result.course_name }}</td>
                        <td>{{ result.subject }}</td>
                        <td>{{ result.obtain_marks }}</td>
                        <td>{{ result.total_marks }}</td>
                        <td>{{ result.grade }}</td>
                        <td>{{ result.cgpa }}</td>
                        <td>{{ result.result_status }}</td>
                        <td>
                            <button class="btn btn-sm btn-primary" onclick="downloadResult({{ result.result_id }})">Download</button>
                            <button class="btn btn-sm btn-secondary" onclick="printResult({{ result.result_id }})">Print</button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>
</div>

<script>
function downloadResult(resultId) {
    // Implement download functionality
    alert('Download functionality will be implemented');
}

function printResult(resultId) {
    // Implement print functionality
    window.print();
}
</script>
{% endblock %}
